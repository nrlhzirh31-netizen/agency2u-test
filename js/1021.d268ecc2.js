"use strict";(self["webpackChunktm_agent_management_system_admin"]=self["webpackChunktm_agent_management_system_admin"]||[]).push([[1021],{255:function(t,a,e){var s=e(3037),i=e(4712),l=e(5352),n=e(7678);a.Z=(0,n.Z)((0,s.d)("expansionPanels","v-expansion-panel","v-expansion-panels"),(0,i.J)("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data(){return{content:null,header:null,nextIsActive:!1}},computed:{classes(){return{"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled,...this.groupClasses}},isDisabled(){return this.expansionPanels.disabled||this.disabled},isReadonly(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent(t){this.content=t},unregisterContent(){this.content=null},registerHeader(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader(){this.header=null},onClick(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle(){this.$nextTick((()=>this.$emit("change")))}},render(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},(0,l.z9)(this))}})},2348:function(t,a,e){var s=e(7394),i=e(8223),l=e(6878),n=e(4712),o=e(5352),r=e(7678);const c=(0,r.Z)(i.Z,l.Z,(0,n.f)("expansionPanel","v-expansion-panel-content","v-expansion-panel"));a.Z=c.extend().extend({name:"v-expansion-panel-content",data:()=>({isActive:!1}),computed:{parentIsActive(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler(t,a){t&&(this.isBooted=!0),null==a?this.isActive=t:this.$nextTick((()=>this.isActive=t))}}},created(){this.expansionPanel.registerContent(this)},beforeDestroy(){this.expansionPanel.unregisterContent()},render(t){return t(s.Fx,this.showLazyContent((()=>[t("div",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:this.isActive}]}),[t("div",{class:"v-expansion-panel-content__wrap"},(0,o.z9)(this))])])))}})},400:function(t,a,e){var s=e(7394),i=e(2240),l=e(6878),n=e(4712),o=e(7069),r=e(5352),c=e(7678);const d=(0,c.Z)(l.Z,(0,n.f)("expansionPanel","v-expansion-panel-header","v-expansion-panel"));a.Z=d.extend().extend({name:"v-expansion-panel-header",directives:{ripple:o.Z},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:()=>({hasMousedown:!1}),computed:{classes(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive(){return this.expansionPanel.isActive},isDisabled(){return this.expansionPanel.isDisabled},isReadonly(){return this.expansionPanel.isReadonly}},created(){this.expansionPanel.registerHeader(this)},beforeDestroy(){this.expansionPanel.unregisterHeader()},methods:{onClick(t){this.$emit("click",t)},genIcon(){const t=(0,r.z9)(this,"actions")||[this.$createElement(i.Z,this.expandIcon)];return this.$createElement(s.Z5,[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render(t){return t("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:{...this.$listeners,click:this.onClick,mousedown:()=>this.hasMousedown=!0,mouseup:()=>this.hasMousedown=!1}}),[(0,r.z9)(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}})},1214:function(t,a,e){e.d(a,{Z:function(){return l}});var s=e(3385),i=e(4101),l=s.y.extend({name:"v-expansion-panels",provide(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes(){return{...s.y.options.computed.classes.call(this),"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile}}},created(){this.$attrs.hasOwnProperty("expand")&&(0,i.fK)("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&(0,i.fK)(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem(t,a){const e=this.getValue(t,a),s=this.getValue(t,a+1);t.isActive=this.toggleMethod(e),t.nextIsActive=this.toggleMethod(s)}}})},2556:function(t,a,e){e.r(a),e.d(a,{default:function(){return _}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("app-breadcrumb-button",{attrs:{breadcrumbs:t.breadcrumbs}}),e("v-row",{staticClass:"pa-4",attrs:{"no-gutters":""}},[e("app-section-title",{staticClass:"text-uppercase",attrs:{title:t.$t("label.updateClaimSubmission")}})],1),e("div",{staticClass:"mx-4"},[e("v-form",{ref:"updateForm"},[e("v-expansion-panels",{attrs:{multiple:""},model:{value:t.openPanelIndex,callback:function(a){t.openPanelIndex=a},expression:"openPanelIndex"}},[e("v-expansion-panel",{staticClass:"my-3 elevation-0"},[e("v-expansion-panel-header",[e("div",{staticClass:"px-2"},[e("app-section-title",{staticClass:"text-uppercase",attrs:{title:t.$t("label.claimSubmissionDetails")}})],1)]),e("v-expansion-panel-content",[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"12"}},[e("v-divider",{staticClass:"my-5 mt-0"})],1)],1),e("v-row",{staticClass:"py-4",attrs:{"no-gutters":""}},[e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.claimID"),placeholder:t.$t("label.claimID"),fieldWidth:"100%",nonEditable:!0},model:{value:t.data.claimID,callback:function(a){t.$set(t.data,"claimID","string"===typeof a?a.trim():a)},expression:"data.claimID"}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.claimStatus"),items:t.payoutDdl,placeholder:t.$t("label.claimStatus"),fieldWidth:"100%",nonEditable:t.nonEditable.claimStatus},model:{value:t.data.claimStatus,callback:function(a){t.$set(t.data,"claimStatus","string"===typeof a?a.trim():a)},expression:"data.claimStatus"}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.applicationStatus"),items:t.applicationStatusDdl,placeholder:t.$t("label.applicationStatus"),nonEditable:!0,fieldWidth:"100%"},model:{value:t.data.applicationStatus,callback:function(a){t.$set(t.data,"applicationStatus","string"===typeof a?a.trim():a)},expression:"data.applicationStatus"}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.applicationID"),placeholder:t.$t("label.applicationID"),fieldWidth:"100%",nonEditable:!0},model:{value:t.data.applicationID,callback:function(a){t.$set(t.data,"applicationID","string"===typeof a?a.trim():a)},expression:"data.applicationID"}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-date-picker",{attrs:{label:t.$t("label.activatedDate"),selectedDateTime:t.data.activatedDate,date:"",clearable:"",placeholder:t.$t("label.activatedDate"),disabled:t.nonEditable.activatedDate},on:{"update:selectedDateTime":function(a){return t.$set(t.data,"activatedDate",a)},"update:selected-date-time":function(a){return t.$set(t.data,"activatedDate",a)}}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.agentID"),placeholder:t.$t("label.agentID"),fieldWidth:"100%",nonEditable:!0},model:{value:t.data.agentID,callback:function(a){t.$set(t.data,"agentID","string"===typeof a?a.trim():a)},expression:"data.agentID"}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.agentClaimDate"),placeholder:t.$t("label.agentClaimDate"),fieldWidth:"100%",nonEditable:!0},model:{value:t.data.agentClaimDate,callback:function(a){t.$set(t.data,"agentClaimDate","string"===typeof a?a.trim():a)},expression:"data.agentClaimDate"}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.orderNo"),placeholder:t.$t("label.orderNo"),fieldWidth:"100%",nonEditable:!0},model:{value:t.data.orderNo,callback:function(a){t.$set(t.data,"orderNo","string"===typeof a?a.trim():a)},expression:"data.orderNo"}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.eFormNo"),placeholder:t.$t("label.eFormNo"),fieldWidth:"100%",nonEditable:!0},model:{value:t.data.eFormNo,callback:function(a){t.$set(t.data,"eFormNo","string"===typeof a?a.trim():a)},expression:"data.eFormNo"}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.packageName"),placeholder:t.$t("label.packageName"),fieldWidth:"100%",nonEditable:!0},model:{value:t.data.packageName,callback:function(a){t.$set(t.data,"packageName","string"===typeof a?a.trim():a)},expression:"data.packageName"}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.packagePrice"),placeholder:t.$t("label.packagePrice"),fieldWidth:"100%",nonEditable:!0},model:{value:t.data.packagePrice,callback:function(a){t.$set(t.data,"packagePrice","string"===typeof a?a.trim():a)},expression:"data.packagePrice"}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.applicationType"),placeholder:t.$t("label.applicationType"),fieldWidth:"100%",items:t.applicationTypeDdl,nonEditable:!0},model:{value:t.data.applicationType,callback:function(a){t.$set(t.data,"applicationType","string"===typeof a?a.trim():a)},expression:"data.applicationType"}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.commissionRate"),placeholder:t.$t("label.commissionRate"),fieldWidth:"100%",nonEditable:!0},model:{value:t.data.commissionRate,callback:function(a){t.$set(t.data,"commissionRate","string"===typeof a?a.trim():a)},expression:"data.commissionRate"}})],1)]),e("v-col",{staticClass:"pb-3",attrs:{cols:"12",sm:"6",md:"4"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.remarks"),placeholder:t.$t("label.remarks"),fieldWidth:"100%",nonEditable:t.nonEditable.remarks},model:{value:t.data.remarks,callback:function(a){t.$set(t.data,"remarks","string"===typeof a?a.trim():a)},expression:"data.remarks"}})],1)])],1),t.isRejected?e("v-row",[e("v-col",{staticClass:"pb-3",attrs:{cols:"12"}},[e("div",{staticClass:"pr-15"},[t._v(" "+t._s(t.$t("label.rejectedReason"))+": "),e("b",[t._v(t._s(t.data.rejectedReason))])])])],1):t._e()],1)],1),e("v-expansion-panel",[e("v-expansion-panel-header",[e("div",{staticClass:"px-2"},[e("app-section-title",{staticClass:"text-uppercase",attrs:{title:t.$t("label.commissionEarning")}})],1)]),e("v-expansion-panel-content",[e("v-row",[e("v-col",[e("v-data-table",{staticClass:"app-table-card",attrs:{headers:t.tableHeaders,items:t.data.payouts,"no-data-text":t.$t("message.noRecordFound"),"disable-sort":"","item-key":"id","hide-default-footer":!0},scopedSlots:t._u([{key:"item.totalPayout",fn:function(a){var s=a.item;return[e("div",{staticClass:"text-right pr-5"},[t._v(" "+t._s(t._f("moneyFormat")(s.totalPayout))+" ")])]}}])},[e("template",{slot:"body.append"},[e("tr",[e("td"),e("td"),e("td",[e("div",{staticClass:"price-heading"},[t._v("Total")])]),e("td",[e("div",{staticClass:"text-right pr-5 font-weight-bold price-heading"},[t._v(t._s(t._f("moneyFormat")(t.sumCommission())))])])])])],2)],1)],1)],1)],1)],1),e("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[t.accessEdit?e("app-button",{staticClass:"mr-6",attrs:{text:t.$t("button.rejectClaimSubmission"),action:t.displayRejectDialog,color:"error",outlined:""}}):t._e(),t.accessEdit?e("app-button",{attrs:{text:t.$t("button.submit"),action:t.updateClaimSubmission,color:"primary"}}):t._e()],1)],1)],1),e("v-dialog",{attrs:{persistent:"","max-width":"600px",value:t.claimSubmissionRejectDialogDisplay}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"text-h5"},[t._v("Reject Claim Submission")])]),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"pr-15"},[e("app-form-field",{attrs:{label:t.$t("label.reasonRemarks"),placeholder:t.$t("label.reasonRemarks"),type:"remark",rows:3,maxLength:1e3,"show-counter":"",fieldWidth:"100%",clearable:""},model:{value:t.data.reasonRemarks,callback:function(a){t.$set(t.data,"reasonRemarks","string"===typeof a?a.trim():a)},expression:"data.reasonRemarks"}})],1)])],1)],1)],1),e("v-card-actions",[e("v-spacer"),t.accessEdit?e("app-button",{attrs:{text:t.$t("button.close"),action:t.closeRejectDialog,color:"error",outlined:""}}):t._e(),t.accessEdit?e("app-button",{attrs:{text:t.$t("button.submit"),action:t.rejectClaimSubmission,color:"primary"}}):t._e()],1)],1)],1)],1)},i=[],l=e(1533),n=e(9257),o=e(2392),r=e(1860),c={name:"ClaimSubmissionDetails",components:{},beforeRouteEnter(t,a,e){e((t=>{let a=n.kJ.getAllModules(),e=n.kJ.getAllActions(a.CLAIM_SUBMISSION);t.accessEdit=n.kJ.isAuthorizedAction(a.CLAIM_SUBMISSION,e.UPDATE)}))},beforeRouteLeave(t,a,e){t.name!=l.ROUTE_NAME.CLAIM_SUBMISSION_LIST&&n.UL.clearSearch(l.SESSION.CLAIM_SUBMISSION_SEARCH),e()},props:{},data(){return{openPanelIndex:[0,1,2],accessEdit:!1,breadcrumbs:[{text:n.Rl.getMessage("button.back"),disabled:!1,to:{name:l.ROUTE_NAME.CLAIM_SUBMISSION_LIST},exact:!0}],tableHeaders:[{text:n.Rl.getMessage("label.agentID"),class:"caption",value:"agentID"},{text:n.Rl.getMessage("label.agentName"),class:"caption",value:"agentName"},{text:n.Rl.getMessage("label.roles"),class:"caption",value:"role"},{text:n.Rl.getMessage("label.claimAmount"),class:"caption",align:"end",value:"totalPayout"}],reasonRemarks:"",nonEditable:{claimStatus:!1,activatedDate:!1,remarks:!1},isRejected:!1}},created(){this.searchCriteria=n.UL.retrieveSearch(l.SESSION.CLAIM_SUBMISSION_SEARCH),this.getClaimSubmission(),this.getPayoutDdl(),this.getApplicationTypeDdl(),this.getApplicationStatusDdl()},mounted(){},computed:{data(){return this.$store.state.claimsubmission.details},payoutDdl(){return this.$store.state.lookup.payoutDdl},applicationTypeDdl(){return this.$store.state.lookup.applicationTypeDdl},applicationStatusDdl(){return this.$store.state.lookup.applicationStatusDdl},tableRows(){return this.$store.state.claimsubmission.details},claimSubmissionRejectDialogDisplay(){return this.$store.state.claimsubmission.claimSubmissionRejectDialogDisplay},isRejectedCheck(){if(this.applicationStatusDdl.length>0){let t=this.applicationStatusDdl.find((t=>"Rejected"===t.text));if(t&&this.data&&this.data.applicationStatus===t.value)return!0}return!1}},watch:{},methods:{getClaimSubmission(){this.$store.dispatch(`${o.ZF}`,{id:this.searchCriteria.selectedRecordId})},getPayoutDdl(){this.$store.dispatch(`${r.i4}`,{hasOptionAll:!1,isActive:!0})},getApplicationTypeDdl(){this.$store.dispatch(`${r.EZ}`,{hasOptionAll:!1,isActive:!0})},getApplicationStatusDdl(){this.$store.dispatch(`${r.DB}`,{hasOptionAll:!1,isActive:!0,strValue:!1})},updateClaimSubmission(){if(this.$refs.updateForm.validate()){let t=[];this.data.payoutId.forEach((a=>{let e={payoutId:a,payoutStatus:2,payoutDate:this.data.activatedDate};t.push(e)})),this.$store.dispatch(`${o.tY}`,{data:t})}},displayRejectDialog(){this.$store.dispatch(`${o.Js}`)},closeRejectDialog(){this.$store.dispatch(`${o.Io}`)},rejectClaimSubmission(){const t={applicationId:this.data.id,reasonRemarks:this.data.reasonRemarks};this.closeRejectDialog(),this.$store.dispatch(`${o.Gr}`,{data:t})},sumCommission(){if(this.data.payouts)return this.data.payouts.reduce(((t,a)=>t+(a.totalPayout||0)),0)}},beforeDestroy(){}},d=c,p=e(1001),m=e(3453),u=e.n(m),h=e(4145),v=e(4886),b=e(266),x=e(2118),f=e(3863),g=e(9228),C=e(9223),$=e(255),y=e(2348),D=e(400),S=e(1214),k=e(5005),I=e(1713),A=e(3687),R=(0,p.Z)(d,s,i,!1,null,"f904b0c4",null),_=R.exports;u()(R,{VCard:h.Z,VCardActions:v.h7,VCardText:v.ZB,VCardTitle:v.EB,VCol:b.Z,VContainer:x.Z,VDataTable:f.Z,VDialog:g.Z,VDivider:C.Z,VExpansionPanel:$.Z,VExpansionPanelContent:y.Z,VExpansionPanelHeader:D.Z,VExpansionPanels:S.Z,VForm:k.Z,VRow:I.Z,VSpacer:A.Z})}}]);
//# sourceMappingURL=1021.d268ecc2.js.map