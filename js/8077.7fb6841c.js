(self["webpackChunktm_agent_management_system_admin"]=self["webpackChunktm_agent_management_system_admin"]||[]).push([[8077],{1332:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return k}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("app-section-card",[s("v-row",{staticClass:"pa-4",attrs:{"no-gutters":""}},[s("v-col",{staticClass:"text-left",attrs:{cols:"auto"}},[s("app-section-title",{staticClass:"font-weight-bold text-uppercase d-inline",attrs:{title:t.$t("label.bank")}})],1),s("v-spacer"),s("v-col",{staticClass:"text-right",attrs:{cols:"auto"}},[s("v-form",{ref:"searchForm",staticClass:"search-form-field-set d-inline-block"},[s("app-search-form-field",{attrs:{placeholder:t.$t("label.bankId")},model:{value:t.searchCriteria.bankId,callback:function(e){t.$set(t.searchCriteria,"bankId","string"===typeof e?e.trim():e)},expression:"searchCriteria.bankId"}}),t.accessView?s("v-btn",{staticClass:"search-button",attrs:{elevation:"0",color:"summerSky",tile:"",height:"40","min-width":"auto"},on:{click:function(e){return t.searchListing()}}},[s("v-icon",{attrs:{dense:"",color:"black"}},[t._v("mdi-magnify")])],1):t._e()],1),t.accessView?s("app-button",{directives:[{name:"ripple",rawName:"v-ripple",value:!1,expression:"false"}],staticClass:"d-inline-block summerSky--text text-caption button-link mr-2",attrs:{text:t.$t("button.reset"),action:t.resetSearchCriteria,color:"transparent",icon:"$resetIcon"}}):t._e(),t.accessCreate?s("app-button",{staticClass:"d-inline-block ml-2",attrs:{text:t.$t("button.add"),action:t.toCreatePage,icon:"mdi-plus"}}):t._e()],1),s("v-col",{attrs:{cols:"12"}},[s("v-row",[s("v-col",[s("v-data-table",{staticClass:"app-table-card",attrs:{headers:t.tableHeaders,items:t.tableRowsFiltered,"items-per-page":t.pageSize,"no-data-text":t.$t("message.noRecordFound"),"disable-sort":""},scopedSlots:t._u([{key:"item",fn:function(e){return[s("tr",[s("td",{staticClass:"text-caption font-weight-medium"},[t._v(t._s(e.item.name))]),s("td",[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"auto"}},[t.accessView||t.accessEdit?s("v-icon",{staticClass:"px-1",attrs:{size:"25",color:"secondary",dense:""},on:{click:function(s){return t.toDetailsPage(e.item.id)}}},[t._v("$settingsIcon")]):t._e()],1),s("v-col",{attrs:{cols:"auto"}},[t.accessDelete?s("v-icon",{staticClass:"px-1",attrs:{size:"25",color:"red",dense:""},on:{click:function(s){return t.submitConfirmation(e.item.id)}}},[t._v("$deleteIcon")]):t._e()],1)],1)],1)])]}}])})],1)],1)],1)],1)],1)],1)},i=[],r=s(1533),c=s(9257),o=s(8641),n=s(8409),l={name:"BankListing",components:{},beforeRouteEnter(t,e,s){s((t=>{let e=c.kJ.getAllModules(),s=c.kJ.getAllActions(e.COMMON_PARAMS);t.accessView=c.kJ.isAuthorizedAction(e.COMMON_PARAMS,s.READ),t.accessCreate=c.kJ.isAuthorizedAction(e.COMMON_PARAMS,s.CREATE),t.accessEdit=c.kJ.isAuthorizedAction(e.COMMON_PARAMS,s.UPDATE),t.accessDelete=c.kJ.isAuthorizedAction(e.COMMON_PARAMS,s.DELETE)}))},beforeRouteLeave(t,e,s){t.name!=r.ROUTE_NAME.BANK_CREATE&&t.name!=r.ROUTE_NAME.BANK_DETAILS&&c.UL.clearSearch(r.SESSION.BANK_SEARCH),s()},props:{},data(){return{accessView:!1,accessEdit:!1,accessCreate:!1,accessDelete:!1,searchCriteria:{bankId:r.SHARED.DEFAULT_ALL_VALUE_STR},tableRowsFiltered:[],tableHeaders:[{text:c.Rl.getMessage("label.name"),class:"caption"},{text:c.Rl.getMessage("label.action"),class:"caption"}],pageSize:r.SHARED.DEFAULT_PAGE_SIZE}},created(){this.initSearchCriteria()},mounted(){},computed:{tableRows(){return this.$store.state.bank.list.data}},watch:{tableRows(){this.filterByStatus()}},methods:{initSearchCriteria(){let t=!0;c.UL.hasSearchCriteria(r.SESSION.BANK_SEARCH)&&(t=!1,this.searchCriteria=c.UL.retrieveSearch(r.SESSION.BANK_SEARCH)),t&&(this.searchCriteria={bankId:r.SHARED.DEFAULT_ALL_VALUE_STR}),this.getBankList(this.searchCriteria)},searchListing(){this.$refs.searchForm.validate()&&this.getBankList(this.searchCriteria)},getBankList(t){this.$store.dispatch(`${o.zm}`,{filter:t}),this.searchCriteria=t,c.UL.storeSearch(r.SESSION.BANK_SEARCH,t)},filterByStatus(){this.tableRowsFiltered=this.tableRows},resetSearchCriteria(){this.searchCriteria.bankId=r.SHARED.DEFAULT_ALL_VALUE_STR,this.searchListing()},toDetailsPage(t){let e=c.UL.retrieveSearch(r.SESSION.BANK_SEARCH);e.selectedRecordId=t,c.UL.storeSearch(r.SESSION.BANK_SEARCH,e),this.$router.push({name:r.ROUTE_NAME.BANK_DETAILS})},toCreatePage(){this.$router.push({name:r.ROUTE_NAME.BANK_CREATE})},deleteItem(t){this.$store.dispatch(o.zS,{id:t})},submitConfirmation(t){let e={messageTitle:c.Rl.getMessage("label.delete"),messages:[c.Rl.getMessage("message.confirmDelete")],buttons:[{title:c.Rl.getMessage("button.cancel"),action:()=>{this.$store.dispatch(`${n.jA}`,e)}},{title:c.Rl.getMessage("button.ok"),action:()=>{this.$store.dispatch(`${n.jA}`,e),this.deleteItem(t)}}],type:this.$const.DIALOG_TYPE.CONFIRMATION};this.$store.dispatch(`${n.PP}`,e)}},beforeDestroy(){}},d=l,h=s(1001),u=s(3453),A=s.n(u),p=s(4562),m=s(266),S=s(3863),C=s(5005),E=s(4324),_=s(1713),b=s(3687),g=s(6392),R=s.n(g),f=s(7069),v=(0,h.Z)(d,a,i,!1,null,"2d3aa631",null),k=v.exports;A()(v,{VBtn:p.Z,VCol:m.Z,VDataTable:S.Z,VForm:C.Z,VIcon:E.Z,VRow:_.Z,VSpacer:b.Z}),R()(v,{Ripple:f.Z})},6392:function(t){t.exports=function(t,e){var s="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var a in"function"===typeof t.exports&&(s.directives=t.exports.options.directives),s.directives=s.directives||{},e)s.directives[a]=s.directives[a]||e[a]}}}]);
//# sourceMappingURL=8077.7fb6841c.js.map