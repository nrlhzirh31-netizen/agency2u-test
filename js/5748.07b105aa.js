(self["webpackChunktm_agent_management_system_admin"]=self["webpackChunktm_agent_management_system_admin"]||[]).push([[5748],{1300:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return g}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("app-section-card",[s("v-row",{staticClass:"pa-4",attrs:{"no-gutters":""}},[s("v-col",{staticClass:"text-left",attrs:{cols:"auto"}},[s("app-section-title",{staticClass:"font-weight-bold text-uppercase d-inline",attrs:{title:t.$t("label.rolesPermissions")}})],1),s("v-spacer"),s("v-col",{staticClass:"text-right",attrs:{cols:"auto"}},[s("v-form",{ref:"searchForm",staticClass:"search-form-field-set d-inline-block"},[s("app-search-form-field",{attrs:{placeholder:t.$t("label.id")},model:{value:t.searchCriteria.id,callback:function(e){t.$set(t.searchCriteria,"id","string"===typeof e?e.trim():e)},expression:"searchCriteria.id"}}),t.accessView?s("v-btn",{staticClass:"search-button",attrs:{elevation:"0",color:"summerSky",tile:"",height:"40","min-width":"auto"},on:{click:function(e){return t.searchListing()}}},[s("v-icon",{attrs:{dense:"",color:"black"}},[t._v("mdi-magnify")])],1):t._e()],1),t.accessView?s("app-button",{directives:[{name:"ripple",rawName:"v-ripple",value:!1,expression:"false"}],staticClass:"d-inline-block summerSky--text text-caption button-link mr-2",attrs:{text:t.$t("button.reset"),action:t.resetSearchCriteria,color:"transparent",icon:"$resetIcon"}}):t._e(),t.accessCreate?s("app-button",{staticClass:"d-inline-block ml-2",attrs:{text:t.$t("button.add"),action:t.toCreatePage,icon:"mdi-plus"}}):t._e()],1),s("v-col",{attrs:{cols:"12"}},[s("v-row",[s("v-col",[s("v-data-table",{staticClass:"app-table-card",attrs:{headers:t.tableHeaders,items:t.tableRowsFiltered,"items-per-page":t.pageSize,"no-data-text":t.$t("message.noRecordFound"),"disable-sort":""},scopedSlots:t._u([{key:"item",fn:function(e){return[s("tr",[s("td",{staticClass:"text-caption font-weight-medium"},[t._v(t._s(e.item.name))]),s("td",{staticClass:"text-caption font-weight-medium"},[t._v(t._s(e.item.description))]),s("td",[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"auto"}},[t.accessView||t.accessEdit?s("v-icon",{staticClass:"px-1",attrs:{size:"25",color:"secondary",dense:""},on:{click:function(s){return t.toDetailsPage(e.item.id)}}},[t._v("$settingsIcon")]):t._e()],1)],1)],1)])]}}])})],1)],1)],1)],1)],1)],1)},i=[],r=s(1533),c=s(9257),o=s(5174),n={name:"RoleListing",components:{},beforeRouteEnter(t,e,s){s((t=>{let e=c.kJ.getAllModules(),s=c.kJ.getAllActions(e.ACCESS_MATRIX);t.accessView=c.kJ.isAuthorizedAction(e.ACCESS_MATRIX,s.READ),t.accessCreate=c.kJ.isAuthorizedAction(e.ACCESS_MATRIX,s.CREATE),t.accessEdit=c.kJ.isAuthorizedAction(e.ACCESS_MATRIX,s.MANAGE)}))},beforeRouteLeave(t,e,s){t.name!=r.ROUTE_NAME.ROLE_CREATE&&t.name!=r.ROUTE_NAME.ROLE_DETAILS&&c.UL.clearSearch(r.SESSION.ROLE_SEARCH),s()},props:{},data(){return{accessView:!1,accessEdit:!1,accessCreate:!1,searchCriteria:{userId:r.SHARED.DEFAULT_ALL_VALUE_STR},tableHeaders:[{text:c.Rl.getMessage("label.name"),class:"caption"},{text:c.Rl.getMessage("label.description"),class:"caption"},{text:c.Rl.getMessage("label.action"),class:"caption"}],tableRowsFiltered:[],pageSize:r.SHARED.DEFAULT_PAGE_SIZE}},created(){this.initSearchCriteria()},mounted(){},computed:{tableRows(){return this.$store.state.role.list.data}},watch:{tableRows(){this.filterByStatus()}},methods:{initSearchCriteria(){let t=!0;c.UL.hasSearchCriteria(r.SESSION.ROLE_SEARCH)&&(t=!1,this.searchCriteria=c.UL.retrieveSearch(r.SESSION.ROLE_SEARCH)),t&&(this.searchCriteria={id:r.SHARED.DEFAULT_ALL_VALUE_STR}),this.getRoleList(this.searchCriteria)},getRoleList(t){this.$store.dispatch(`${o.Nl}`,{filter:t}),this.searchCriteria=t,c.UL.storeSearch(r.SESSION.ROLE_SEARCH,t)},searchListing(){this.$refs.searchForm.validate()&&this.getUserList(this.searchCriteria)},filterByStatus(){this.tableRowsFiltered=this.tableRows},resetSearchCriteria(){this.searchCriteria.id=r.SHARED.DEFAULT_ALL_VALUE_STR,this.searchListing()},toDetailsPage(t){let e=c.UL.retrieveSearch(r.SESSION.ROLE_SEARCH);e.selectedRecordId=t,c.UL.storeSearch(r.SESSION.ROLE_SEARCH,e),this.$router.push({name:r.ROUTE_NAME.ROLE_DETAILS})},toCreatePage(){this.$router.push({name:r.ROUTE_NAME.ROLE_CREATE})}},beforeDestroy(){}},l=n,d=s(1001),h=s(3453),p=s.n(h),u=s(4562),E=s(266),S=s(3863),m=s(5005),R=s(4324),C=s(1713),A=s(3687),_=s(6392),f=s.n(_),L=s(7069),v=(0,d.Z)(l,a,i,!1,null,"01674fea",null),g=v.exports;p()(v,{VBtn:u.Z,VCol:E.Z,VDataTable:S.Z,VForm:m.Z,VIcon:R.Z,VRow:C.Z,VSpacer:A.Z}),f()(v,{Ripple:L.Z})},6392:function(t){t.exports=function(t,e){var s="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var a in"function"===typeof t.exports&&(s.directives=t.exports.options.directives),s.directives=s.directives||{},e)s.directives[a]=s.directives[a]||e[a]}}}]);
//# sourceMappingURL=5748.07b105aa.js.map