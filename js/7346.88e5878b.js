(self["webpackChunktm_agent_management_system_admin"]=self["webpackChunktm_agent_management_system_admin"]||[]).push([[7346],{5748:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return I}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("app-section-card",[i("v-row",{staticClass:"pa-4",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"text-left",attrs:{cols:"auto"}},[i("app-section-title",{staticClass:"font-weight-bold text-uppercase d-inline",attrs:{title:t.$t("label.domains")}})],1),i("v-spacer"),i("v-col",{staticClass:"text-right",attrs:{cols:"auto"}},[i("v-form",{ref:"searchForm",staticClass:"search-form-field-set d-inline-block"},[i("app-search-form-field",{attrs:{placeholder:t.$t("label.domainId")},model:{value:t.searchCriteria.domainId,callback:function(e){t.$set(t.searchCriteria,"domainId","string"===typeof e?e.trim():e)},expression:"searchCriteria.domainId"}}),t.accessView?i("v-btn",{staticClass:"search-button",attrs:{elevation:"0",color:"summerSky",tile:"",height:"40","min-width":"auto"},on:{click:function(e){return t.searchListing()}}},[i("v-icon",{attrs:{dense:"",color:"black"}},[t._v("mdi-magnify")])],1):t._e()],1),t.accessView?i("app-button",{directives:[{name:"ripple",rawName:"v-ripple",value:!1,expression:"false"}],staticClass:"d-inline-block summerSky--text text-caption button-link mr-2",attrs:{text:t.$t("button.reset"),action:t.resetSearchCriteria,color:"transparent",icon:"$resetIcon"}}):t._e(),t.accessCreate?i("app-button",{staticClass:"d-inline-block ml-2",attrs:{text:t.$t("button.add"),action:t.toCreatePage,icon:"mdi-plus"}}):t._e()],1),i("v-col",{attrs:{cols:"12"}},[i("v-row",[i("v-col",[i("v-data-table",{staticClass:"app-table-card",attrs:{headers:t.tableHeaders,items:t.tableRowsFiltered,page:t.clientSidePagination.pageNumber,"items-per-page":t.clientSidePagination.pageSize,"no-data-text":t.$t("message.noRecordFound"),"hide-default-footer":"","disable-sort":""},on:{"update:page":function(e){return t.$set(t.clientSidePagination,"pageNumber",e)},"page-count":function(e){t.clientSidePagination.lastPage=e}},scopedSlots:t._u([{key:"item",fn:function(e){return[i("tr",[i("td",{staticClass:"text-caption font-weight-medium"},[t._v(t._s(t.$filters.paginateTableIndex(e.index,t.clientSidePagination.pageNumber)))]),i("td",{staticClass:"text-caption font-weight-medium"},[t._v(t._s(e.item.code))]),i("td",{staticClass:"text-caption font-weight-medium"},[t._v(t._s(e.item.name))]),i("td",{staticClass:"text-caption font-weight-medium"},[t._v(t._s(e.item.description))]),i("td",[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"auto"}},[t.accessView||t.accessEdit?i("v-icon",{staticClass:"px-1",attrs:{size:"25",color:"secondary",dense:""},on:{click:function(i){return t.toDetailsPage(e.item.id)}}},[t._v("$settingsIcon")]):t._e()],1),i("v-col",{attrs:{cols:"auto"}},[t.accessDelete?i("v-icon",{staticClass:"px-1",attrs:{size:"25",color:"red",dense:""},on:{click:function(i){return t.submitConfirmation(e.item.id)}}},[t._v("$deleteIcon")]):t._e()],1)],1)],1)])]}},{key:"footer",fn:function(){return[i("app-pagination",{attrs:{pagination:t.clientSidePagination,clientSidePagination:!0}})]},proxy:!0}])})],1)],1)],1)],1)],1)],1)},s=[],n=i(1533),o=i(9257),r=i(6562),c=i(8409),l={name:"DomainListing",components:{},beforeRouteEnter(t,e,i){i((t=>{let e=o.kJ.getAllModules(),i=o.kJ.getAllActions(e.DOMAIN);t.accessView=o.kJ.isAuthorizedAction(e.DOMAIN,i.READ),t.accessCreate=o.kJ.isAuthorizedAction(e.DOMAIN,i.CREATE),t.accessEdit=o.kJ.isAuthorizedAction(e.DOMAIN,i.UPDATE),t.accessDelete=o.kJ.isAuthorizedAction(e.DOMAIN,i.DELETE)}))},beforeRouteLeave(t,e,i){t.name!=n.ROUTE_NAME.DOMAIN_CREATE&&t.name!=n.ROUTE_NAME.DOMAIN_DETAILS&&o.UL.clearSearch(n.SESSION.DOMAIN_SEARCH),i()},props:{},data(){return{accessView:!1,accessEdit:!1,accessCreate:!1,accessDelete:!1,searchCriteria:{domainId:n.SHARED.DEFAULT_ALL_VALUE_STR},tableRowsFiltered:[],tableHeaders:[{text:o.Rl.getMessage("label.no"),class:"caption"},{text:o.Rl.getMessage("label.code"),class:"caption"},{text:o.Rl.getMessage("label.name"),class:"caption"},{text:o.Rl.getMessage("label.description"),class:"caption"},{text:o.Rl.getMessage("label.action"),class:"caption"}],clientSidePagination:{pageNumber:0,pageSize:0,lastPage:0,tableRowsCount:0}}},created(){this.initSearchCriteria()},mounted(){},computed:{tableRows(){return this.$store.state.domain.list.data},pagination(){return this.$store.state.domain.list.pagination}},watch:{tableRows(){this.filterByStatus()},pagination(){this.clientSidePagination=o.VH.getClientSidePagination(n.SHARED.DEFAULT_PAGE_SIZE,this.pagination.pageNumber,this.pagination.tableRowsCount)}},methods:{initSearchCriteria(){let t=!0;o.UL.hasSearchCriteria(n.SESSION.DOMAIN_SEARCH)&&(t=!1,this.searchCriteria=o.UL.retrieveSearch(n.SESSION.DOMAIN_SEARCH)),t&&(this.searchCriteria={bankId:n.SHARED.DEFAULT_ALL_VALUE_STR}),this.getBankList(this.searchCriteria)},searchListing(){this.$refs.searchForm.validate()&&this.getBankList(this.searchCriteria)},getBankList(t){this.$store.dispatch(`${r.xE}`,{filter:t}),this.searchCriteria=t,o.UL.storeSearch(n.SESSION.DOMAIN_SEARCH,t)},filterByStatus(){this.tableRowsFiltered=this.tableRows,this.clientSidePagination=o.VH.getClientSidePagination(n.SHARED.DEFAULT_PAGE_SIZE,n.SHARED.DEFAULT_PAGE_NUMBER,this.tableRowsFiltered.length)},resetSearchCriteria(){this.searchCriteria.bankId=n.SHARED.DEFAULT_ALL_VALUE_STR,this.searchListing()},toDetailsPage(t){let e=o.UL.retrieveSearch(n.SESSION.DOMAIN_SEARCH);e.selectedRecordId=t,o.UL.storeSearch(n.SESSION.DOMAIN_SEARCH,e),this.$router.push({name:n.ROUTE_NAME.DOMAIN_DETAILS})},toCreatePage(){this.$router.push({name:n.ROUTE_NAME.DOMAIN_CREATE})},deleteItem(t){this.$store.dispatch(r.X_,{id:t})},submitConfirmation(t){let e={messageTitle:o.Rl.getMessage("label.delete"),messages:[o.Rl.getMessage("message.confirmDelete")],buttons:[{title:o.Rl.getMessage("button.cancel"),action:()=>{this.$store.dispatch(`${c.jA}`,e)}},{title:o.Rl.getMessage("button.ok"),action:()=>{this.$store.dispatch(`${c.jA}`,e),this.deleteItem(t)}}],type:this.$const.DIALOG_TYPE.CONFIRMATION};this.$store.dispatch(`${c.PP}`,e)}},beforeDestroy(){}},d=l,p=i(1001),h=i(3453),u=i.n(h),g=i(4562),m=i(266),A=i(3863),S=i(5005),E=i(4324),_=i(1713),f=i(3687),b=i(6392),C=i.n(b),R=i(7069),v=(0,p.Z)(d,a,s,!1,null,"2f181e5f",null),I=v.exports;u()(v,{VBtn:g.Z,VCol:m.Z,VDataTable:A.Z,VForm:S.Z,VIcon:E.Z,VRow:_.Z,VSpacer:f.Z}),C()(v,{Ripple:R.Z})},6392:function(t){t.exports=function(t,e){var i="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var a in"function"===typeof t.exports&&(i.directives=t.exports.options.directives),i.directives=i.directives||{},e)i.directives[a]=i.directives[a]||e[a]}}}]);
//# sourceMappingURL=7346.88e5878b.js.map